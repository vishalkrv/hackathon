<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>
            NDX Hackathon
        </title>
        <link href="assets/styles/jsplumb.css" rel="stylesheet" type="text/css"/>
        <link href="styles/bootstrap.min.css" rel="stylesheet"/>
        <link href="assets/styles/ngDialog.min.css" rel="stylesheet"/>
        <link href="assets/styles/ngDialog-theme-default.min.css" rel="stylesheet"/>
        <link href="styles/styles.css" rel="stylesheet"/>
        <link href="assets/styles/tree.css" rel="stylesheet"/>
        <link href="assets/styles/font-awesome.min.css" rel="stylesheet" type="text/css"/>
        <link href="assets/scripts/ui-grid/ui-grid.min.css" rel="stylesheet" type="text/css"/>
    </head>
    <body ng-controller="MainCtrl">
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header" draggable="true">
                    <a class="navbar-brand" href="#">
                        NDX Hackathon
                    </a>
                </div>
            </div>
        </nav>
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-12" style="padding:10px;margin-top:30px;background:white;border-radius:5px;min-height:550px">
                        <!-- <div class="col-md-2">
                        <div data-angular-treeview="true" data-tree-id="mytree" data-tree-model="roleList"
                            data-node-id="roleId" data-node-label="roleName" data-node-children="children">
                        </div>
                    
                    </div> -->
                        <div class="col-md-4 treeNode">
                            <ol class="tree">
                                <li ng-repeat="(key, value) in table.list.schemaDefinition">
                                    <label class="toUpper" for="{{key}}">
                                        {{key}}
                                    </label>
                                    <input checked="" id="{key}" type="checkbox"/>
                                    <ol>
                                        <li class="file toUpper" ng-repeat="(k, v) in value">
                                            <label class="toUpper" for="{{k}}">
                                                {{k}}
                                                <a ng-if="k==='joins'" cls="btn btn-primary">
                                                            <i aria-hidden="true" class="fa fa-plus">
                                                            </i>
                                                </a>
                                                <a cls="btn btn-primary" ng-click="table.openPopup(value, k)">
                                                            <i aria-hidden="true" class="fa fa-external-link">
                                                            </i>
                                                </a>
                                            </label>
                                            <input checked="" id="{{k}}" type="checkbox"/>
                                            <ol ng-if="k =='tables'">
                                                <li class="file toUpper" ng-repeat="item in v">
                                                    <label class="toUpper" for="{{item.tableName}}">
                                                        {{item.tableName}}
                                                        <a cls="btn btn-primary" ng-click="table.openTableDetails($index)">
                                                            <i aria-hidden="true" class="fa fa-external-link">
                                                            </i>
                                                        </a>
                                                        <a cls="btn btn-primary" ng-click="table.addToCanvas($index)">
                                                            <i aria-hidden="true" class="fa fa-arrow-right">
                                                            </i>
                                                        </a>
                                                    </label>
                                                    <input id="{{item.tableName}}" type="checkbox"/>
                                                    <ol>
                                                        <li ng-repeat="col in item.columns">
                                                            <span>
                                                                {{col.columnName}}
                                                            </span>
                                                        </li>
                                                    </ol>
                                                </li>
                                            </ol>
                                            <ol ng-if="k =='joins'">
                                                <li class="file toUpper" ng-repeat="item in v">
                                                    <label for="{{item.joinName}}">
                                                        {{item.joinName}}
                                                    </label>
                                                    <input id="{{item.joinName}}" type="checkbox"/>
                                                    <ol>
                                                        <li ng-repeat="join in item.joinColumns">
                                                            <span>
                                                                {{item.tableFrom}}.{{join.columnFrom}} - {{item.tableTo}}.{{join.columnTo}}
                                                            </span>
                                                        </li>
                                                    </ol>
                                                </li>
                                            </ol>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </div>
                        <div class="col-md-8 dropArea">
                            <js-plumb-canvas on-connection="onConnection" x="pos_x" y="pos_y" zoom="zoomlevel">
                                <ng-include ng-repeat="state in table.tableObjects track by $index" src="'views/qTable.html'">
                                </ng-include>
                            </js-plumb-canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="assets/scripts/jquery.min.js">
        </script>
        <script src="assets/scripts/jquery-ui.min.js">
        </script>
        <script src="assets/scripts/bootstrap.min.js">
        </script>
        <script src="assets/scripts/angular.min.js">
        </script>
        <script src="assets/scripts/angular-resource.min.js">
        </script>
        <script src="assets/scripts/angular-animate.js">
        </script>
        <script src="assets/scripts/underscore-min.js">
        </script>
        <script src="assets/scripts/ui-bootstrap.min.js">
        </script>
        <script src="assets/scripts/ui-bootstrap-tpls.min.js">
        </script>
        <script src="assets/scripts/ngDialog.min.js">
        </script>
        <script src="assets/scripts/tree.js">
        </script>
        <script src="assets/scripts/jquery.jsPlumb-1.6.2-min.js" type="text/javascript">
        </script>
        <script src="assets/scripts/ngStorage.js" type="text/javascript">
        </script>
        <script src="assets/scripts/ui-grid/ui-grid.min.js" type="text/javascript">
        </script>
        <script src="scripts/main.js">
        </script>
        <script src="scripts/directive.js">
        </script>
        <script src="scripts/popTable.js"></script>
    </body>
</html>